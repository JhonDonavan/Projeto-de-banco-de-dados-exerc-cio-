CREATE TABLE CADASTRO_MUSICAL (
COD_MUS INT PRIMARY KEY,
NOME_MUS VARCHAR(20),
DURACAO TIME,
COD_ALBUM INT
--FOREIGN KEY (COD_ALBUM) REFERENCES ALBUNS (COD_ALBUM)
);


CREATE TABLE ALBUNS (
COD_ALBUM INT PRIMARY KEY,
NOME_ALBUM VARCHAR(20),
ANO_LANÇAMENTO DATE,
COD_ESTILO INT
--FOREIGN KEY (COD_ESTILO) REFERENCES ESTILO MUSICAL (COD_ESTILO)
);


CREATE TABLE ESTILO_MUSICAL (
COD_ESTILO INT PRIMARY KEY,
NOME_ESTILO VARCHAR(20));


CREATE TABLE COMPOSITORES (
COD_COMPOSITOR INT PRIMARY KEY,
NOME_COMP VARCHAR(40)
);


CREATE TABLE COMPOSICAO (
COD_MUS INT NOT NULL,
COD_COMPOSITOR INT NOT NULL
--FOREIGN KEY (COD_MUS) REFERENCES CADASTRO MUSICAL (COD_MUS),
--FOREIGN KEY (COD_COMPOSITOR) REFERENCES COMPOSITORES (COD_COMPOSITOR)
);


CREATE TABLE LOGRADOURO (
COD_TIPO INT PRIMARY KEY,
DESCRIÇAO_TIPO VARCHAR(20)
);



CREATE TABLE GRAVADORA (
COD_GRAV INT PRIMARY KEY,
NOME_GRAV VARCHAR(20),
COD_TIPO_LOG INT,
LOG VARCHAR (20),
NUMERO INT,
COMPLEMENTO VARCHAR (20),
BAIRRO VARCHAR (20), 
CIDADE VARCHAR (20),
ESTADO CHAR (2),
PAIS CHAR (2)
--FOREIGN KEY (COD_TIPO_LOG) REFERENCES LOGRADOURO (COD_TIPO_LOG)
);


CREATE TABLE TEL_GRAVADORA (
COD_TEL INT PRIMARY KEY,
DDD INT, 
NUMERO INT, 
COD_GRAV INT
--FOREIGN KEY (COD_GRAV) REFERENCES GRAVADORA (COD_GRAV)
);


CREATE TABLE ARTISTA (
COD_ARTISTA INT PRIMARY KEY,
NOME_ARTISTA VARCHAR(40),
NASCIMENTO DATE,
COD_GRAV INT 
--FOREIGN KEY (COD_GRAV) REFERENCES GRAVADORA (COD_GRAV)
);


					-- POPULANDO BANCO DE DADOS
-- Tabela cadastro musical
INSERT INTO CADASTRO_MUSICAL VALUES (1, 'alô', '4:20', 1);
INSERT INTO CADASTRO_MUSICAL VALUES (2, 'olá', '5:02', 1);
INSERT INTO CADASTRO_MUSICAL VALUES (3, 'Hei, como vai?', '4:20', 1);
INSERT INTO CADASTRO_MUSICAL VALUES (4, 'Oi Amor', '2:30', 1);
INSERT INTO CADASTRO_MUSICAL VALUES (5, 'Minha paixao', '4:20', 1);
INSERT INTO CADASTRO_MUSICAL VALUES (6, 'Leve desespero', '4:20', 2);
INSERT INTO CADASTRO_MUSICAL VALUES (7, 'Um dia', '5:02', 2);
INSERT INTO CADASTRO_MUSICAL VALUES (8, 'Onde andarás', '03:50', 2);
INSERT INTO CADASTRO_MUSICAL VALUES (9, 'rock do ferro velho', '2:30', 2);
INSERT INTO CADASTRO_MUSICAL VALUES (10, 'A lua', '1:25', 2);
INSERT INTO CADASTRO_MUSICAL VALUES (11, 'Lentidao', '2:30', 3);
INSERT INTO CADASTRO_MUSICAL VALUES (12, 'Preguiça', '1:25', 3);
INSERT INTO CADASTRO_MUSICAL VALUES (13, 'Calma de mais', '4:20', 3);
INSERT INTO CADASTRO_MUSICAL VALUES (14, 'Olá tristeza', '5:20', 3);
INSERT INTO CADASTRO_MUSICAL VALUES (15, 'Tchau paixao', '3:50', 3);
INSERT INTO CADASTRO_MUSICAL VALUES (16, 'Mater of  universe', '01:35', 4);
INSERT INTO CADASTRO_MUSICAL VALUES (17, 'The old pleasure', '3:20', 4);
INSERT INTO CADASTRO_MUSICAL VALUES (18, 'Totem', '09:13', 4);
INSERT INTO CADASTRO_MUSICAL VALUES (19, 'Wasted goldo', '5:50', 3);
INSERT INTO CADASTRO_MUSICAL VALUES (20, 'Rock Roll Forever', '03:15', 4);

SELECT * FROM CADASTRO_MUSICAL;

--POPULANDO TABELA ALBUNS

INSERT INTO ALBUNS VALUES (1, 'Poucas palavras','2009-01-01', 1);
INSERT INTO ALBUNS VALUES (2, 'Leve mas nem tanto','2005-01-01', 2);
INSERT INTO ALBUNS VALUES (3, 'Sentidos', '2008-01-01', 3);
INSERT INTO ALBUNS VALUES (4, 'Living with tears', '2007-01-01', 4);

SELECT * FROM ALBUNS;
--POPULANDO ESTILO_MUSICAL

INSERT INTO ESTILO_MUSICAL VALUES (1, 'Romantico');
INSERT INTO ESTILO_MUSICAL VALUES (2, 'POP');
INSERT INTO ESTILO_MUSICAL VALUES (3, 'Samba');
INSERT INTO ESTILO_MUSICAL VALUES (4, 'Metal');

SELECT * FROM ESTILO_MUSICAL;

--POPULANDO COMPOSITORES
INSERT INTO  COMPOSITORES (COD_COMPOSITOR, NOME_COMP)
VALUES(1, 'Zé, Luis e Paulo');
INSERT INTO  COMPOSITORES (COD_COMPOSITOR, NOME_COMP)
VALUES(2, 'Paulo');
INSERT INTO  COMPOSITORES (COD_COMPOSITOR, NOME_COMP)
VALUES(3, 'Luis');
INSERT INTO  COMPOSITORES (COD_COMPOSITOR, NOME_COMP)
VALUES(4, 'Luis e Pedro');
INSERT INTO  COMPOSITORES (COD_COMPOSITOR, NOME_COMP)
VALUES(5, 'Jorge Santana');
INSERT INTO  COMPOSITORES (COD_COMPOSITOR, NOME_COMP)
VALUES(7, 'Lucas e Jorge Santos');
INSERT INTO  COMPOSITORES (COD_COMPOSITOR, NOME_COMP)
VALUES(6, 'Lucas');
INSERT INTO  COMPOSITORES (COD_COMPOSITOR, NOME_COMP)
VALUES(8, 'Jorge Santos');
INSERT INTO  COMPOSITORES (COD_COMPOSITOR, NOME_COMP)
VALUES(9, 'Sargentinho da Vila');
INSERT INTO  COMPOSITORES (COD_COMPOSITOR, NOME_COMP)
VALUES(10, 'Sgt. da Vila e Coronel Arlindo');
INSERT INTO  COMPOSITORES (COD_COMPOSITOR, NOME_COMP)
VALUES(11, 'Chris Metal, Paul Metal');
INSERT INTO  COMPOSITORES (COD_COMPOSITOR, NOME_COMP)
VALUES(12, 'Chris Metal');


UPDATE COMPOSITORES SET NOME_COMP = 'Chris Metal and Paul Metal' where cod_compositoR = 11;
SELECT * FROM COMPOSITORES;


--POPULANDO GRAVADORA
INSERT INTO GRAVADORA (COD_GRAV, NOME_GRAV, COD_TIPO_LOG, LOG, NUMERO, BAIRRO, CIDADE, ESTADO, PAIS)
VALUES(1, 'céu azul', 1, 'São JOAO', 13, 'Pq.feliz', 'Ibiarucu do norte', 'RJ', 'BR');

INSERT INTO GRAVADORA (COD_GRAV, NOME_GRAV, COD_TIPO_LOG, LOG, NUMERO, COMPLEMENTO, BAIRRO, ESTADO)
VALUES(2, 'Som preso', 2, 'Sá', 1240,'APto 3021', 'Santo Angelo','RJ');

SELECT * FROM GRAVADORA;


--POPULANDO TIPO_LOGRADOURO
INSERT INTO LOGRADOURO VALUES(1, 'Rua');
INSERT INTO LOGRADOURO VALUES(2, 'Aveniada');
INSERT INTO LOGRADOURO VALUES(3, 'Rodovia');
INSERT INTO LOGRADOURO VALUES(4, 'Travessa');

SELECT * FROM LOGRADOURO;

--POPULANDO TEL_GRAVADORA

INSERT INTO TEL_GRAVADORA (COD_TEL, DDD, NUMERO, COD_GRAV)
VALUES(1, 21, 26545252, 1);
INSERT INTO TEL_GRAVADORA (COD_TEL, DDD, NUMERO, COD_GRAV)
VALUES(2, 21, 97425260, 1);
INSERT INTO TEL_GRAVADORA (COD_TEL, DDD, NUMERO, COD_GRAV)
VALUES(3, 21, 36578798, 1);
INSERT INTO TEL_GRAVADORA (COD_TEL, DDD, NUMERO, COD_GRAV)
VALUES(4, 21, 32190252, 2);
INSERT INTO TEL_GRAVADORA (COD_TEL, DDD, NUMERO, COD_GRAV)
VALUES(5, 21, 98995050, 2);

SELECT * FROM TEL_GRAVADORA;


--POPULANDO ARTISTA

INSERT INTO ARTISTA (COD_ARTISTA, NOME_ARTISTA, COD_GRAV)
VALUES(1, 'The Bobos', 1);
INSERT INTO ARTISTA (COD_ARTISTA, NOME_ARTISTA, NASCIMENTO, COD_GRAV)
VALUES(2, 'Jorge Santana', '1952-05-09', 2);

INSERT INTO ARTISTA (COD_ARTISTA, NOME_ARTISTA, NASCIMENTO, COD_GRAV)
VALUES(3, 'Sargentinho da Vila', '1960-08-09', 1);
INSERT INTO ARTISTA (COD_ARTISTA, NOME_ARTISTA, NASCIMENTO, COD_GRAV)
VALUES(4, 'Chris Metal', '1979-05-09', 2);

select * from artista;



INSERT INTO COMPOSICAO (COD_MUS, COD_COMPOSITOR)
VALUES(1, 1);

INSERT INTO COMPOSICAO (COD_MUS, COD_COMPOSITOR)
VALUES(2, 2);
INSERT INTO COMPOSICAO (COD_MUS, COD_COMPOSITOR)
VALUES(4, 4);
INSERT INTO COMPOSICAO (COD_MUS, COD_COMPOSITOR)
VALUES(6, 5);
INSERT INTO COMPOSICAO (COD_MUS, COD_COMPOSITOR)
VALUES(5, 1);
INSERT INTO COMPOSICAO (COD_MUS, COD_COMPOSITOR)
VALUES(7, 6);
INSERT INTO COMPOSICAO (COD_MUS, COD_COMPOSITOR)
VALUES(8, 7);
INSERT INTO COMPOSICAO (COD_MUS, COD_COMPOSITOR)
VALUES(9, 8);
INSERT INTO COMPOSICAO (COD_MUS, COD_COMPOSITOR)
VALUES(10, 1);
INSERT INTO COMPOSICAO (COD_MUS, COD_COMPOSITOR)
VALUES(11, 9);
INSERT INTO COMPOSICAO (COD_MUS, COD_COMPOSITOR)
VALUES(12, 10);
INSERT INTO COMPOSICAO (COD_MUS, COD_COMPOSITOR)
VALUES(13, 9);
INSERT INTO COMPOSICAO (COD_MUS, COD_COMPOSITOR)
VALUES(14, 10);
INSERT INTO COMPOSICAO (COD_MUS, COD_COMPOSITOR)
VALUES(15, 9);
INSERT INTO COMPOSICAO (COD_MUS, COD_COMPOSITOR)
VALUES(16, 11);
INSERT INTO COMPOSICAO (COD_MUS, COD_COMPOSITOR)
VALUES(17, 12);
INSERT INTO COMPOSICAO (COD_MUS, COD_COMPOSITOR)
VALUES(18, 11);
INSERT INTO COMPOSICAO (COD_MUS, COD_COMPOSITOR)
VALUES(19, 11);
INSERT INTO COMPOSICAO (COD_MUS, COD_COMPOSITOR)
VALUES(20, 12);

SELECT * FROM COMPOSICAO;

SELECT * FROM COMPOSITORES;

-- CREATE TABLE COMPOSICAO (
-- COD_MUS INT NOT NULL,
-- COD_COMPOSITOR INT NOT NULL
-- --FOREIGN KEY (COD_MUS) REFERENCES CADASTRO MUSICAL (COD_MUS),
-- --FOREIGN KEY (COD_COMPOSITOR) REFERENCES COMPOSITORES (COD_COMPOSITOR)
-- );



--FOREIGN KEYS

ALTER TABLE CADASTRO_MUSICAL
ADD CONSTRAINT FK_CADASTRO_MUSICAL FOREIGN KEY (COD_ALBUM) REFERENCES ALBUNS (COD_ALBUM);

ALTER TABLE ALBUNS
ADD CONSTRAINT FK_ALBUNS FOREIGN KEY (COD_ESTILO) REFERENCES ESTILO_MUSICAL (COD_ESTILO);

ALTER TABLE COMPOSICAO
ADD CONSTRAINT FK_COMPOSICAO_CADASTRO_MUSICAL FOREIGN KEY (COD_MUS) REFERENCES  CADASTRO_MUSICAL (COD_MUS),
ADD CONSTRAINT fk_COMPOSICAO_COMPOSITORES FOREIGN KEY (COD_COMPOSITOR) REFERENCES COMPOSITORES (COD_COMPOSITOR);

ALTER TABLE GRAVADORA 
ADD CONSTRAINT FK_GRAVADORA_LOGRADOURO FOREIGN KEY (COD_TIPO_LOG) REFERENCES LOGRADOURO (COD_TIPO);

ALTER TABLE TEL_GRAVADORA
ADD CONSTRAINT FK_TEL_GRAVADORA_GRAVADORA FOREIGN KEY (COD_GRAV) REFERENCES GRAVADORA (COD_GRAV);

ALTER TABLE ARTISTA
ADD CONSTRAINT FK_ARTISTA_GRAVADORA FOREIGN KEY (COD_grav) REFERENCES GRAVADORA (COD_GRAV);


select * from artista;
select * from gravadora;